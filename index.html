<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta
      name="description"
      content="Start your development with Pigga landing page."
    />
    <meta name="author" content="Devcrud" />
    <title>Sociedad Juvenil de Chiclayo</title>
    <!-- font icons -->
    <link
      rel="stylesheet"
      href="assets/vendors/themify-icons/css/themify-icons.css"
    />
    <!-- Bootstrap + Pigga main styles -->
    <link rel="stylesheet" href="assets/css/pigga.css" />
  </head>

  <body data-spy="scroll" data-target=".navbar" data-offset="40" id="home">
    <!-- First Navigation -->
    <nav class="navbar nav-first navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="#">
          <img
            src="assets/imgs/SOJU_JPEG.jpg"
            alt="Do"
            style="border-radius: 50%; object-fit: cover"
          />
        </a>
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link text-primary" href="#home"
              >Alguna duda o consulta :
              <span class="pl-2 text-muted">960 495 540</span></a
            >
          </li>
        </ul>
      </div>
    </nav>
    <!-- End of First Navigation -->
    <!-- Second Navigation -->
    <nav
      class="nav-second navbar custom-navbar navbar-expand-sm navbar-dark bg-dark sticky-top"
    >
      <div class="container">
        <button
          class="navbar-toggler ml-auto"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link" href="#inicio">Inicio</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#service">Nuestra Carta</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#pedidos">Realizar Pedido</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#about">Nosotros</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#team">Equipo</a>
            </li>
          </ul>
          <!-- <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a href="components.html" class="btn btn-primary btn-sm"
                >Components</a
              >
            </li>
          </ul> -->
        </div>
      </div>
    </nav>
    <!-- End Of Second Navigation -->
    <!-- Page Header -->
    <header id="inicio" class="header">
      <div class="overlay">
        <img
          src="assets/imgs/SOJU_JPEG.jpg"
          alt="Logo"
          style="
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
          "
          class="logo"
        />

        <h1 class="subtitle">Bienvenido!üôå‚ù§Ô∏è</h1>
        <h1 class="title">Coffee &amp; Karaoke Time</h1>
        <a class="btn btn-primary mt-3" href="#service">Ver Carta</a>
        <a class="btn btn-primary mt-3" href="#pedidos">Pedir Ahora</a>
      </div>
    </header>
    <!-- End Of Page Header -->

    <!-- Secci√≥n de servicios -->
    <section id="service" class="pattern-style-4 has-overlay py-5">
      <div class="container raise-2">
        <h6 class="section-subtitle text-center">
          Realiza tu pedido en nuestra
        </h6>
        <h3 class="section-title mb-4 pb-3 text-center">Carta Especial</h3>

        <!-- Contenedor de la carta -->
        <div class="row" id="menu-container">
          <!-- Las categor√≠as y productos se generan din√°micamente aqu√≠ -->
        </div>
      </div>
    </section>

    <!-- End of Featured Food Section -->

    <!-- Menu Section -->
    <section id="pedidos" class="has-img-bg">
      <div class="container">
        <h6 class="section-subtitle text-center">Gracias por tu apoyo</h6>
        <h3 class="section-title mb-6 text-center">Realiza tu pedido aqu√≠</h3>
        <div class="card bg-light">
          <div class="card-body px-4 pb-4 text-center">
            <div class="row text-left" id="items-container"></div>

            <!-- Total y Bot√≥n -->
            <div class="mt-0" id="total-container" style="display: none">
              <h5 class="text-primary">
                Total: <span id="total-price">S/. 0</span>
              </h5>
              <!-- Aseg√∫rate de que el bot√≥n tenga el id="hacer-pedido" -->
              <a href="#" class="btn btn-primary" id="hacer-pedido" disabled>
                Realizar Pedido
              </a>
            </div>
          </div>

          <div class="card-body px-4 pb-4 text-center">
            <!-- Contenedor para botones centrados -->
            <div class="d-flex justify-content-center">
              <button
                class="btn btn-primary mx-2"
                id="authorize_button"
                onclick="handleAuthClick()"
              >
                Iniciar sesi√≥n para realizar pedido
              </button>
              <button
                class="btn btn-primary mx-2"
                id="signout_button"
                onclick="handleSignoutClick()"
                style="display: none"
              >
                Cerrar Sesi√≥n
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- End of Menu Section -->

    <!-- About Section -->
    <section id="about">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-6 mb-2">
            <h6 class="section-subtitle">Conoce m√°s sobre nuestra ...</h6>
            <h3 class="section-title">Sociedad Juvenil de Chiclayo</h3>
            <p class="mb-1 font-weight-bold">
              S√°bados:
              <span class="font-weight-normal pl-2 text-muted"
                >07:45 pm - 10:00 pm</span
              >
            </p>
            <p class="mb-1 font-weight-bold">
              Domingos :
              <span class="font-weight-normal pl-2 text-muted"
                >09:45 am - 01:00 pm</span
              >
            </p>
          </div>
          <div class="col-12">
            <div class="row">
              <!-- Video 1 -->
              <div class="col-12 mb-3">
                <div class="ratio ratio-16x9">
                  <!-- Clase para hacer el video responsivo -->
                  <video controls autoplay loop muted class="w-100">
                    <source src="assets/imgs/video.mp4" type="video/mp4" />
                    Tu navegador no soporta la reproducci√≥n de video.
                  </video>
                </div>
              </div>
              <!-- Video 2 -->
              <div class="col-12">
                <div class="ratio ratio-16x9">
                  <!-- Clase para hacer el video responsivo -->
                  <video controls autoplay loop muted class="w-100">
                    <source src="assets/imgs/video2.mp4" type="video/mp4" />
                    Tu navegador no soporta la reproducci√≥n de video.
                  </video>
                </div>
              </div>

              <div class="col-12 mb-3">
                <div class="ratio ratio-16x9">
                  <img
                    src="assets/imgs/sj.jpg"
                    alt="Referencia Imagen"
                    class="w-100"
                  />
                </div>
              </div>

              <div class="col-12 mb-3">
                <div class="ratio ratio-16x9">
                  <img
                    src="assets/imgs/sj1.jpeg"
                    alt="Referencia Imagen"
                    class="w-100"
                  />
                </div>
              </div>

              <div class="col-12 mb-3">
                <div class="ratio ratio-16x9">
                  <img
                    src="assets/imgs/sj2.jpeg"
                    alt="Referencia Imagen"
                    class="w-100"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- End OF About Section -->

    <!-- Team Section -->
    <section id="team" class="mt-0">
      <div class="container">
        <h6 class="section-subtitle text-center">Nuestro Equipo</h6>
        <h3 class="section-title mb-5 text-center">Junta 2024-2025</h3>
        <div class="row">
          <div class="col-md-4 my-3">
            <div class="team-wrapper text-center">
              <img
                src="assets/imgs/antony.jpg"
                class="circle-120 rounded-circle mb-3 shadow"
                alt="Download free bootstrap 4 landing page, free boootstrap 4 templates, Download free bootstrap 4.1 landing page, free boootstrap 4.1.1 templates, Pigga Landing page"
              />
              <h5 class="my-3">Anthony Zevallos</h5>
              <p>Presidente</p>
              <h6 class="socials mt-3">
                <a
                  href="https://www.facebook.com/profile.php?id=100002420526918"
                  class="px-2"
                  ><i class="ti-facebook"></i
                ></a>
                <!-- <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-twitter"></i
                ></a>
                <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-instagram"></i
                ></a>
                <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-google"></i
                ></a> -->
              </h6>
            </div>
          </div>
          <div class="col-md-4 my-3">
            <div class="team-wrapper text-center">
              <img
                src="assets/imgs/ale.png"
                class="circle-120 rounded-circle mb-3 shadow"
                alt="Download free bootstrap 4 landing page, free boootstrap 4 templates, Download free bootstrap 4.1 landing page, free boootstrap 4.1.1 templates, Pigga Landing page"
              />
              <h5 class="my-3">Alejandra Contreras</h5>
              <p>Secretaria</p>
              <h6 class="socials mt-3">
                <a
                  href="https://www.facebook.com/profile.php?id=100010171711710"
                  class="px-2"
                  ><i class="ti-facebook"></i
                ></a>
                <!-- <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-twitter"></i
                ></a>
                <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-instagram"></i
                ></a>
                <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-google"></i
                ></a> -->
              </h6>
            </div>
          </div>
          <div class="col-md-4 my-3">
            <div class="team-wrapper text-center">
              <img
                src="assets/imgs/ana.png"
                class="circle-120 rounded-circle mb-3 shadow"
                alt="Download free bootstrap 4 landing page, free boootstrap 4 templates, Download free bootstrap 4.1 landing page, free boootstrap 4.1.1 templates, Pigga Landing page"
              />
              <h5 class="my-3">Ana Flores</h5>
              <p>Tesoreria</p>
              <h6 class="socials mt-3">
                <a
                  href="https://www.facebook.com/anacristinarosselly.floresguevara"
                  class="px-2"
                  ><i class="ti-facebook"></i
                ></a>
                <!-- <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-twitter"></i
                ></a>
                <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-instagram"></i
                ></a>
                <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-google"></i
                ></a> -->
              </h6>
            </div>
          </div>

          <div class="col-md-4 my-3">
            <div class="team-wrapper text-center">
              <img
                src="assets/imgs/juan.jpg"
                class="circle-120 rounded-circle mb-3 shadow"
                alt="Download free bootstrap 4 landing page, free boootstrap 4 templates, Download free bootstrap 4.1 landing page, free boootstrap 4.1.1 templates, Pigga Landing page"
              />
              <h5 class="my-3">Juan Flores</h5>
              <p>Evangelismo</p>
              <h6 class="socials mt-3">
                <a
                  href="https://www.facebook.com/EdgardFloresGuevara"
                  class="px-2"
                  ><i class="ti-facebook"></i
                ></a>
                <!-- <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-twitter"></i
                ></a>
                <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-instagram"></i
                ></a>
                <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-google"></i
                ></a> -->
              </h6>
            </div>
          </div>

          <div class="col-md-4 my-3">
            <div class="team-wrapper text-center">
              <img
                src="assets/imgs/joan1.jpg"
                class="circle-120 rounded-circle mb-3 shadow"
                alt="Download free bootstrap 4 landing page, free boootstrap 4 templates, Download free bootstrap 4.1 landing page, free boootstrap 4.1.1 templates, Pigga Landing page"
              />
              <h5 class="my-3">Joan Aquino</h5>
              <p>Tecnolog√≠as de Informaci√≥n</p>
              <h6 class="socials mt-3">
                <a
                  href="https://www.facebook.com/JoanAquinoVasquez"
                  class="px-2"
                  ><i class="ti-facebook"></i
                ></a>
                <!-- <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-twitter"></i
                ></a>
                <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-instagram"></i
                ></a>
                <a href="javascript:void(0)" class="px-2"
                  ><i class="ti-google"></i
                ></a> -->
              </h6>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- End of Team Section -->

    <!-- End of Testmonial Section -->

    <!-- Book Table Section -->
    <!-- <section id="book-table" class="bg-white">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-6 d-none d-md-block">
            <img
              src="assets/imgs/contact.jpg"
              alt="Download free bootstrap 4 landing page, free boootstrap 4 templates, Download free bootstrap 4.1 landing page, free boootstrap 4.1.1 templates, Pigga Landing page"
              class="w-100 rounded shadow"
            />
          </div>
          <div class="col-md-6">
            <form>
              <div class="form-group">
                <input
                  type="text"
                  class="form-control"
                  id="exampleInputEmail1"
                  aria-describedby="emailHelp"
                  placeholder="Your Name"
                />
              </div>
              <div class="form-group">
                <input
                  type="tel"
                  class="form-control"
                  name="phone"
                  placeholder="Your Phone"
                />
              </div>
              <div class="form-group">
                <input type="datetime-local" class="form-control" name="date" />
              </div>
              <div class="form-group">
                <input
                  type="number"
                  class="form-control"
                  name="seats"
                  placeholder="Seats"
                />
              </div>
              <button type="submit" class="btn btn-primary btn-block">
                Book A Table
              </button>
              <small class="form-text text-muted mt-3"
                >We don't span customers. Check our
                <a href="#">Privacy Policy</a></small
              >
            </form>
          </div>
        </div>
      </div>
    </section> -->
    <!-- End OF Book Table Section -->

    <!-- Prefooter Section -->
    <div
      class="py-4 border border-lighter border-bottom-0 border-left-0 border-right-0 bg-dark"
    >
      <div class="container">
        <div class="row justify-content-center align-items-center text-center">
          <div class="col-md-3 mb-3 mb-md-0">
            <img
              src="assets/imgs/logo.png"
              width="100"
              alt="Logo1"
              class="mb-0 mx-auto d-block"
            />
          </div>
        </div>
      </div>
    </div>
    <!-- End of PreFooter Section -->

    <!-- Page Footer -->
    <footer
      class="border border-dark border-left-0 border-right-0 border-bottom-0 p-4 bg-dark"
    >
      <div class="container">
        <div class="row text-center">
          <div class="col">
            <p class="mb-0 small">
              &copy;
              <script>
                document.write(new Date().getFullYear());
              </script>
              ,
              <a href="#" target="_blank"
                >Hecho con ‚ù§Ô∏è por Joan Aquino Vasquez</a
              ><br />
              Todos los derechos reservados
            </p>
          </div>
        </div>
        <div class="row mt-3 text-center">
          <div class="col">
            <h6 class="small mb-0">
              <a href="https://www.facebook.com/JoanAquinoVasquez/" class="px-2"
                ><i class="ti-facebook"></i
              ></a>
              <a href="https://pe.linkedin.com/in/joan-aquino" class="px-2"
                ><i class="ti-linkedin"></i
              ></a>
              <a
                href="https://www.instagram.com/joan_aquinovasquez/"
                class="px-2"
                ><i class="ti-instagram"></i
              ></a>
            </h6>
          </div>
        </div>
      </div>
    </footer>

    <!-- End of Page Footer -->
    <script>
      const carta = [
        // Jugos
        {
          categoria: "Jugos",
          nombre: "Jugo de Papaya",
          precio: 5,
          descripcion:
            "El cl√°sico matutino que siempre te sonr√≠e en el desayuno. Suave, tropical y con la dulzura que te hace decir: ‚ÄúEsto es puro amor de fruta‚Äù.",
          imagen: "assets/imgs/jugo-papaya.png",
        },
        {
          categoria: "Jugos",
          nombre: "Jugo de Melon",
          precio: 5,
          descripcion: "Refrescante y jugoso como un susurro en verano.",
          imagen: "assets/imgs/jugo-melon.png",
        },
        {
          categoria: "Jugos",
          nombre: "Jugo de Pi√±a",
          precio: 5,
          descripcion:
            "Dulce con un toque de traviesa acidez, como esa bromita que al final siempre disfrutas. ¬°Un sorbo y te sientes en la playa!",
          imagen: "assets/imgs/jugo-pi√±a.jpg",
        },
        {
          categoria: "Jugos",
          nombre: "Jugo de Fresa",
          precio: 7,
          descripcion:
            "El m√°s rom√°ntico del grupo. Dulce, tentador y con un color que te enamora a primera vista.",
          imagen: "assets/imgs/jugo-fresa.jpeg",
        },
        {
          categoria: "Jugos",
          nombre: "Jugo Surtido",
          precio: 7,
          descripcion:
            "Una fiesta en tu boca donde todas las frutas vienen a bailar. ¬°No hay celos, solo pura diversi√≥n!",
          imagen: "assets/imgs/jugo-surtido.jpg",
        },
        {
          categoria: "Jugos",
          nombre: "Jugo Especial",
          precio: 10,
          descripcion:
            "Porque t√∫ eres especial, este jugo tiene un ‚Äúno s√© qu√©‚Äù que te deja suspirando. ¬øEs la fruta secreta o el cari√±o con el que lo hacen?",
          imagen: "assets/imgs/jugo-especial.png",
        },

        // Bebidas Calientes
        {
          categoria: "Bebidas Calientes",
          nombre: "Caf√© Americano",
          precio: 3,
          descripcion:
            "Directo al grano, como esa persona que siempre dice lo que piensa. Fuerte, sin rodeos, pero con un abrazo de energ√≠a.",
          imagen: "assets/imgs/cafe-americano.jpeg",
        },
        {
          categoria: "Bebidas Calientes",
          nombre: "Caf√© con Leche",
          precio: 6,
          descripcion:
            "El equilibrio perfecto entre la fuerza y la ternura. Un cari√±ito l√≠quido para empezar el d√≠a con calma.",
          imagen: "assets/imgs/cafe-leche.png",
        },
        {
          categoria: "Bebidas Calientes",
          nombre: "Chocolate",
          precio: 5,
          descripcion:
            "Puro placer caliente, dulce y con el abrazo reconfortante de la vida. Ideal para esos d√≠as de ‚Äú¬°necesito un mimo!‚Äù",
          imagen: "assets/imgs/chocolate.jpg",
        },
        {
          categoria: "Bebidas Calientes",
          nombre: "Infusi√≥n",
          precio: 2.5,
          descripcion:
            "Tranquilidad en una taza. Como un susurro de la abuelita dici√©ndote que todo va a estar bien.",
          imagen: "assets/imgs/infusion.jpg",
        },

        // Salados
        {
          categoria: "Salados",
          nombre: "Humita con Sarza",
          precio: 2.5,
          descripcion:
            "Dulzura del choclo combinada con la picard√≠a de la sarza. ¬°Una mezcla que te da un cachetadita de sabor!",
          imagen: "assets/imgs/humita.jpg",
        },
        {
          categoria: "Salados",
          nombre: "Triple Cl√°sico",
          precio: 9,
          descripcion:
            "Tres pisos de pura delicia. Si los s√°ndwiches fueran telenovelas, este ser√≠a el gal√°n indiscutible.",
          imagen: "assets/imgs/triple-clasico.jpg",
        },

        // Dulces
        {
          categoria: "Dulces",
          nombre: "Keke",
          precio: 2,
          descripcion:
            "Esponjoso, dulce y siempre listo para alegrarte el d√≠a. Cada mordida es como una carcajada suave.",
          imagen: "assets/imgs/keke.png",
        },
        // Dulces
        {
          categoria: "Dulces",
          nombre: "Makis 6pcs",
          precio: 10,
          descripcion: "Varios sabores calientitos desde Makicix.",
          imagen: "assets/imgs/maki.jpeg",
        },
      ];

      // Generar las categor√≠as
      const categorias = ["Jugos", "Bebidas Calientes", "Salados", "Dulces"];
      // Seleccionamos el contenedor principal
      const container = document.querySelector("#menu-container");

      categorias.forEach((categoria) => {
        // Insertar t√≠tulo de la categor√≠a
        const seccionHTML = `
      <div class="col-12">
        <h3 class="category-title text-center text-primary mb-4">${categoria}</h3>
      </div>
    `;
        container.insertAdjacentHTML("beforeend", seccionHTML);

        // Filtrar productos por categor√≠a y generar tarjetas
        carta
          .filter((producto) => producto.categoria === categoria)
          .forEach((producto) => {
            const itemHTML = `
<div class="col-12 col-sm-6 col-md-4 col-lg-4 col-xl-4 mb-3">  <!-- Ajustamos para tener 3 productos por fila -->
  <div class="card shadow-sm" style="width: 100%; height: 350px;">  <!-- Mant√©n la altura fija pero aumenta el ancho -->
    <img src="${producto.imagen}" class="card-img-top img-fluid" alt="${producto.nombre}" style="width: 100%; height: 130px; object-fit: cover;">  <!-- Ajuste para que la imagen ocupe toda la altura y el ancho -->
    <div class="card-body p-3 d-flex flex-column" style="flex-grow: 1;">  <!-- Se ajusta el cuerpo de la tarjeta -->
      <h6 class="card-title" style="font-size: 1.3rem;">${producto.nombre}</h6>  <!-- T√≠tulo m√°s grande -->
      <p class="card-text text-muted" style="font-size: 0.9rem;">${producto.descripcion}</p>  <!-- Descripci√≥n sin recorte -->
      <div class="d-flex justify-content-between align-items-center mt-auto">
        <span class="text-primary fw-bold" style="font-size: 1.2rem;">S/. ${producto.precio}</span> <!-- Aumentamos el tama√±o del precio -->
        <button class="btn btn-primary btn-sm">Ordenar</button>
      </div>
    </div>
  </div>
</div>
        `;
            container.insertAdjacentHTML("beforeend", itemHTML);
          });
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const container = document.getElementById("items-container");
        const totalPriceElement = document.getElementById("total-price");
        let total = 0;

        // Actualiza el total de los productos seleccionados
        function updateTotal() {
          total = 0;
          const inputs = document.querySelectorAll(
            '#items-container input[type="number"]'
          );
          inputs.forEach((input) => {
            const price = parseFloat(input.dataset.price);
            const quantity = parseInt(input.value) || 0;
            total += price * quantity;
          });
          totalPriceElement.textContent = `S/. ${total.toFixed(2)}`;
        }

        // Llamada inicial para cargar los productos si ya est√° autenticado
        if (window.productos && window.productos.length > 0) {
          cargarProductos();
        }

        // Funci√≥n para realizar el pedido (mostrar detalles en un modal)
        document
          .getElementById("hacer-pedido")
          .addEventListener("click", function (event) {
            event.preventDefault();
            let orderDetails = "";
            let totalPrice = 0;
            let contenidoPedido = {
              id: Date.now(), // ID √∫nico para el pedido basado en el timestamp
              productos: [],
            };

            // Obtener los detalles de cada producto seleccionado
            const inputs = document.querySelectorAll(
              '#items-container input[type="number"]'
            );
            inputs.forEach((input) => {
              const quantity = parseInt(input.value);
              if (quantity > 0) {
                const price = parseFloat(input.dataset.price);
                const itemTotal = quantity * price;
                orderDetails += `<p><strong>${
                  input.closest(".item").querySelector(".item-name").textContent
                }</strong> x${quantity} - S/. ${itemTotal.toFixed(2)}</p>`;
                totalPrice += itemTotal;
                // Agregar el producto a la lista de productos del pedido
                contenidoPedido.productos.push({
                  producto: input.closest(".item").querySelector(".item-name")
                    .textContent,
                  cantidad: quantity,
                  precio: price,
                  total: itemTotal,
                });
              }
            });

            // Validar si el total es 0
            if (totalPrice === 0) {
              Swal.fire({
                icon: "warning",
                title: "Carrito vac√≠o",
                text: "Por favor selecciona al menos un producto antes de realizar el pedido.",
              });
              return; // Detener la ejecuci√≥n si el total es 0
            }

            // Mostrar detalles del pedido en un modal usando SweetAlert
            Swal.fire({
              title: "Detalle de tu pedido",
              html: `
                    <div>${orderDetails}</div>
                    <div><strong>Total:</strong> S/. ${totalPrice.toFixed(
                      2
                    )}</div>
                    <div style="margin-top: 20px;">
                      <label for="customerName"><strong>Nombre del cliente:</strong></label>
                      <input type="text" id="customerName" class="swal2-input" placeholder="Ingresa tu nombre">
                    </div>
                    <div style="margin-top: 20px;">
                      <label><strong>M√©todo de pago:</strong></label>
                      <select id="paymentMethod" class="swal2-select" style="width: 200px; margin-top: 10px;">
                        <option value="efectivo">Efectivo</option>
                         <option value="yape">Yape</option>
                      </select>
                    </div>
                    <div id="qrCode" style="display: none;">
                      <img src="assets/imgs/yape.jpeg" alt="QR Code" style="width: 280px; height: 280px; margin: 20px;">
                    </div>
              `,
              showCancelButton: true,
              confirmButtonText: "Hacer Pedido",
              cancelButtonText: "Cancelar",
              didOpen: () => {
                const paymentMethodSelect =
                  document.getElementById("paymentMethod");
                const qrCodeDiv = document.getElementById("qrCode");

                // Mostrar u ocultar QR seg√∫n el m√©todo de pago seleccionado
                paymentMethodSelect.addEventListener("change", (event) => {
                  if (event.target.value === "yape") {
                    qrCodeDiv.style.display = "block";
                  } else {
                    qrCodeDiv.style.display = "none";
                  }
                });
              },
              preConfirm: () => {
                const customerName = document
                  .getElementById("customerName")
                  .value.trim();
                const paymentMethod =
                  document.getElementById("paymentMethod").value;

                if (!customerName) {
                  Swal.showValidationMessage("Por favor, ingresa tu nombre.");
                  return false;
                }

                return { customerName, paymentMethod };
              },
            }).then(async (result) => {
              if (result.isConfirmed) {
                const { customerName, paymentMethod } = result.value;
                console.log("Pedido confirmado por:", customerName);
                console.log("M√©todo de pago:", paymentMethod);
                // Al hacer clic en "Hacer Pedido", enviamos el pedido a Google Sheets
                contenidoPedido.nombreCliente = customerName; // Agregar el nombre del cliente al objeto
                contenidoPedido.metodoPago = paymentMethod; // Agregar el m√©todo de pago al objeto
                contenidoPedido.total = totalPrice; // Agregar el total al objeto
                try {
                  const response = await subirPedido(contenidoPedido);
                  console.log("Pedido enviado correctamente:", response);
                  Swal.fire({
                    icon: "success",
                    title: "Pedido Confirmado",
                    text: "¬°Gracias por colaborar ‚ô•!",
                  }).then(() => {
                    // Recargar la p√°gina despu√©s de que se muestre el mensaje de √©xito
                    location.reload();
                  });
                } catch (error) {
                  console.error("Error al subir el pedido:", error);
                  Swal.fire({
                    icon: "error",
                    title: "Error",
                    text: "Hubo un problema al realizar tu pedido.",
                  });
                }
              }
            });
          });
      });
    </script>

    <!-- core  -->
    <script src="assets/vendors/jquery/jquery-3.4.1.js"></script>
    <script src="assets/vendors/bootstrap/bootstrap.bundle.js"></script>
    <!-- Incluir SweetAlert -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- bootstrap affix -->
    <script src="assets/vendors/bootstrap/bootstrap.affix.js"></script>

    <!-- Pigga js -->
    <script src="assets/js/pigga.js"></script>

    <script
      async
      defer
      src="https://apis.google.com/js/api.js"
      id="gapi"
    ></script>
    <script
      async
      defer
      src="https://accounts.google.com/gsi/client"
      id="gis"
    ></script>
    <script type="module" async defer src="assets/js/auth.js"></script>
    <script type="module" async defer src="assets/js/sheets.js"></script>
  </body>
</html>
